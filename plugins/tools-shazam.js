import acrcloud from 'acrcloud';const a=new acrcloud({host:'identify-eu-west-1.acrcloud.com',access_key:'c33c767d683f78bd17d4bd4991955d81',access_secret:'bvgaIAEtADBTbLwiPGYlxupWqkNGIjT7J9Ag2vIu'});let h=async(m,{conn:c,usedPrefix:d,command:e})=>{let f=m.quoted?m.quoted:m;let g=(f.msg||f).mimetype||f.mediaType||'';if(/video|audio/.test(g)){let i=await f.download();let{status:j,metadata:k}=await a.identify(i);if(j.code!==0)throw j.msg;let{title:l,artists:m,album:n,genres:o,release_date:p}=k.music[0];let q='╭─⬣「 *Whatmusic Tool* 」⬣\n';q+=`│  ≡◦ *Titulo ∙* ${l}${m?`\\n│  ≡◦ *Artista ∙* ${m.map(r=>r.name).join(', ')}`:''}`;q+=`${n?`\\n│  ≡◦ *Album ∙* ${n.name}`:''}${o?`\\n│  ≡◦ *Genero ∙* ${o.map(s=>s.name).join(', ')}`:''}\\n`;q+=`│  ≡◦ *Fecha de lanzamiento ∙* ${p}\\n`;q+='╰─⬣';await c.reply(m.chat,q,m)}else return c.reply(m.chat,`Etiqueta un audio o video de poca duración con el comando *${d+e}* para ver que música contiene.`,m)};h.help=['whatmusic <audio/video>'];h.tags=['tools'];h.command=['shazam','whatmusic'];h.register=true;export default h;