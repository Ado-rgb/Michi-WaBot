import acrcloud from 'acrcloud';const _0x2a3b=['host','identify-eu-west-1.acrcloud.com','access_key','c33c767d683f78bd17d4bd4991955d81','access_secret','bvgaIAEtADBTbLwiPGYlxupWqkNGIjT7J9Ag2vIu','whatmusic','shazam','tools','chat','reply','quoted','mimetype','mediaType','download','identify','code','msg','music','title','artists','album','genres','release_date','map','join','trim'];(function(_0x44d8e7,_0x3c65db){const _0x31149d=function(_0x3190eb){while(--_0x3190eb){_0x44d8e7['push'](_0x44d8e7['shift']());}};_0x31149d(++_0x3c65db);}(_0x2a3b,0x8a));const _0x3b1f=function(_0x44d8e7,_0x3c65db){_0x44d8e7=_0x44d8e7-0x0;let _0x31149d=_0x2a3b[_0x44d8e7];return _0x31149d;};const acr=new acrcloud({[_0x3b1f('0x1')]:'identify-eu-west-1.acrcloud.com',[_0x3b1f('0x2')]:'c33c767d683f78bd17d4bd4991955d81',[_0x3b1f('0x4')]:'bvgaIAEtADBTbLwiPGYlxupWqkNGIjT7J9Ag2vIu'});let handler=async(m,{conn,usedPrefix,command})=>{const q=m[_0x3b1f('0xc')]?m[_0x3b1f('0xc')]:m;const mime=(q['msg']||q)[_0x3b1f('0xd')]||q[_0x3b1f('0xe')]||'';if(/video|audio/.test(mime)){const buffer=await q[_0x3b1f('0xf')]();const {status,metadata}=await acr[_0x3b1f('0x10')](buffer);if(status[_0x3b1f('0x11')]!==0)throw status[_0x3b1f('0x12')];const {title,artists,album,genres,release_date}=metadata[_0x3b1f('0x13')][0];let txt=`┌───〔 *🎵 WhatMusic Tool* 〕──┐\n│  🎶 *Título:* ${title}\n│  👤 *Artista:* ${artists?artists[_0x3b1f('0x18')](v=>v.name).join(', '):'Desconocido'}\n${album?`│  💿 *Álbum:* ${album.name}`:''}\n${genres?`│  🏷 *Género:* ${genres.map(v=>v.name).join(', ')}`:''}\n│  📅 *Lanzamiento:* ${release_date}\n└────────────┘`.trim();await conn.reply(m.chat,txt,m)}else await conn.reply(m.chat,`🎧 *Uso correcto:* etiqueta un *audio o video corto* con \`${usedPrefix+command}\` para identificar la música.`,m);};handler.help=[_0x3b1f('0x6')+' <audio/video>'];handler.tags=[_0x3b1f('0x7')];handler.command=[_0x3b1f('0x8'),_0x3b1f('0x6')];handler.register=true;export default handler;