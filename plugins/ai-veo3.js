import { Buffer } from 'buffer'
import crypto from 'crypto'
import axios from 'axios'

const code = "Ly8tLT4gQ3JlYWRvIHBvciBBZG8gJiBOT1VSIPCfj6oKCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJzsKCmxldCBoYW5kbGVyID0gYXN5bmMgKG0sIHsgY29ubiwgdGV4dCwgdXNlZFByZWZpeCwgY29tbWFuZCB9KSA9PiB7CiAgICBpZiAoIXRleHQpIHsKICAgICAgICB0aHJvdyBgUHJvcG9yY2lvbmUgdW4gbWVuc2FqZSBkZSB0ZXh0byBwYXJhIGdlbmVyYXIgdW4gdmlkZW8uXFxuXFxuKkVqZW1wbG86KlxcbiR7dXNlZFByZWZpeCArIGNvbW1hbmR9IFVuIGdhdG8gZW4gdW5hIHJhbWEgcGVsZWFuZG8gY29uIG90cm9gOwogICAgfQoKICAgIHRyeSB7CiAgICAgICAgYXdhaXQgbS5yZXBseSgn8J+YqSBJbmljaWFuZG8gZ2VuZXJhY2nDs24gZGUgdmlkZW8gY29uIHNvbmlkby4uLiBFc3RvIHB1ZWRlIHRhcmRhciB1biBtb21lbnRvLCBwb3IgZmF2b3IsIGVzcGVyZScpOwoKICAgICAgICBjb25zdCBtb2RlbCA9ICd2ZW8tMy1mYXN0JzsKICAgICAgICBjb25zdCBhdXRvX3NvdW5kID0gdHJ1ZTsKICAgICAgICBjb25zdCBhdXRvX3NwZWVjaCA9IGZhbHNlOwoKICAgICAgICBjb25zdCB7IGRhdGE6IGNmIH0gPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vYXBpLm5la29yaW5uLm15LmlkL3Rvb2xzL3J5bm4tc3R1ZmYnLCB7CiAgICAgICAgICAgIHBhcmFtczoge30sCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgbW9kZTogJ3R1cm5zdGlsZS1taW4nLAogICAgICAgICAgICAgICAgc2l0ZUtleTogJzB4NEFBQUFBQUFObUZnX2hZTzlZSlpxbycsCiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2FpdmlkZW9nZW5lcmF0b3IubWUvZmVhdHVyZXMvZy1haS12aWRlby1nZW5lcmF0b3InLAogICAgICAgICAgICAgICAgYWNjZXNzS2V5OiAnZTJkZGM4ZDNjZThhOGZjZWI5OTQzZTYwZTcyMjAxOGNiMjM1MjM0OTliOWFjMTRhODgyMzI0MmU2ODllZWZlZCcKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBpZiAoIWNmLnJlc3VsdCB8fCAhY2YucmVzdWx0LnRva2VuKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIG9idGFpbiB0aGUgcmVxdWlyZWQgdmVyaWZpY2F0aW9uIHRva2VuLiBUaGUgc2VydmljZSBtaWdodCBiZSBkb3duLicpOwogICAgICAgIH0KICAgICAgICBjb25zdCB2ZXJpZnlUb2tlbiA9IGNmLnJlc3VsdC50b2tlbjsKCiAgICAgICAgY29uc3QgdWlkID0gY3J5cHRvLmNyZWF0ZUhhc2goJ21kNScpLnVwZGF0ZShEYXRlLm5vdygpLnRvU3RyaW5nKCkpLmRpZ2VzdCgnaGV4Jyk7CgogICAgICAgIGNvbnN0IHsgZGF0YTogdGFzayB9ID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cHM6Ly9haWFydGljbGUuZXJ3ZWltYS5haS9hcGkvdjEvc2Vjb25kYXJ5LXBhZ2UvYXBpL2NyZWF0ZScsIHsKICAgICAgICAgICAgcHJvbXB0OiB0ZXh0LAogICAgICAgICAgICBpbWdVcmxzOiBbXSwKICAgICAgICAgICAgcXVhbGl0eTogJzcyMHAiLAogICAgICAgICAgICBkdXJhdGlvbjogOCwKICAgICAgICAgICAgYXV0b1NvdW5kRmxhZzogYXV0b19zb3VuZCwKICAgICAgICAgICAgc291bmRQcm9tcHQ6ICcnLAogICAgICAgICAgICBhdXRvU3BlZWNoRmxhZzogYXV0b19zcGVlY2gsCiAgICAgICAgICAgIHNwZWVjaFByb21wdDogJycsCiAgICAgICAgICAgIHNwZWFrZXJJZDogJ0F1dG8nLAogICAgICAgICAgICBhc3BlY3RSYXRpbzogJzE2Ojk=',CiAgICAgICAgICAgIHNlY29uZGFyeVBhZ2VJZDogMTgxMSwKICAgICAgICAgICAgY2hhbm5lbDogJ1ZFTzMnLAogICAgICAgICAgICBzb3VyY2U6ICdhaXZpZGVvZ2VuZXJhdG9yLm1lJywKICAgICAgICAgICAgdHlwZTogJ2ZlYXR1cmVzJywKICAgICAgICAgICAgd2F0ZXJtYXJrRmxhZzogdHJ1ZSwKICAgICAgICAgICAgcHJpdmF0ZUZsYWc6IHRydWUsCiAgICAgICAgICAgIGlzVGVtcDogdHJ1ZSwKICAgICAgICAgICAgdmlwRmxhZzogdHJ1ZSwKICAgICAgICAgICAgbW9kZWw6IG1vZGVsCiAgICAgICAgfSwgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAndW5pcXVlaWQnOiB1aWQsCiAgICAgICAgICAgICAgICAndmVyaWZ5JzogdmVyaWZ5VG9rZW4KICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBpZiAoIXRhc2suZGF0YSB8fCAhdGFzay5kYXRhLnJlY29yZElkKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSB0aGUgdmlkZW8gZ2VuZXJhdGlvbiB0YXNrLiBQbGVhc2UgY2hlY2sgdGhlIEFQSSBzdGF0dXMuJyk7CiAgICAgICAgfQogICAgICAgIGNvbnN0IHJlY29yZElkID0gdGFzay5kYXRhLnJlY29yZElkOwoKICAgICAgICBsZXQgcmVzdWx0RGF0YTsKICAgICAgICB3aGlsZSAodHJ1ZSkgewogICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDMwMDApKTsKICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBzdGF0dXNSZXNwb25zZSB9ID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL2FpYXJ0aWNsZS5lcndl...

const blob = Buffer.from(code, 'base64').toString()
let handler
eval(blob)
export default handler